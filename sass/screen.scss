@import "compass/reset";
@import "compass/css3";
@import "./lib/_mixins.scss";
@import "./lib/_type.scss";
@import "./lib/_grid.scss";

// @mixin keyframes($name) {
//   @-webkit-keyframes #{$name} {
//     @content; 
//   }
//   @-moz-keyframes #{$name} {
//     @content;
//   }
//   @-ms-keyframes #{$name} {
//     @content;
//   }
//   @keyframes #{$name} {
//     @content;
//   } 
// }

body {
    background-image: url('../images/bg.jpg');
    height: 100%;
    width: 100%;
    text-transform: lowercase;
}

header {
    h1 {
        @include small-caps(1em);
        font-family: $demi;
        padding-bottom: 1em;
        cursor: pointer;
    }
}

nav {
    @include small-caps;
    
    ul {
        list-style: none;
        
        li {
            display: inline-block;
            
            a {
                padding: .25rem 0;
                top: -.25rem;
                margin-right: 2rem;
                @include small-caps(1em);
                font-family: $bold;
                position: relative;
                
                &.current {
                    border-bottom: 4pt solid $default-color;
                }
            }
        }
    }
    
    .profile-picture {
        height: 4em;
        width:  4em;
        border-radius: 50%;
        position: absolute;
        top: 1em;;
        right: $gutter;
    }
}

section.page {

    &.closed {
        display: none;
    }
    
    &.profile, .profile {
        // margin: 10em auto 0 auto;
        // background-image: url('../images/habits/profile-habit.png');
        // height: 50em;
        // width: 80em;
        // background-size: 80em 50em;
    
        // @include keyframes(bgcolor) {
        //   0% {
        //     @include transform(rotate(0deg));
        //   }
        //   100% {
        //     @include transform(rotate(270deg));
        //   } 
        // }
        // 
        // display: block;
        // 
        // @-webkit-keyframes profile-spin {
        //     0% {
        //         @include rotateZ(0deg);
        //         // background-color: red;
        //     }
        //     
        //     100% {
        //         @include rotateZ(270deg);
        //         // background-color: blue;
        //     }
        // }
    
        // -webkit-animation: profile-spin 10s infinite;
        .habit {
    
            > h1 {
                text-transform: lowercase;
                position: relative;
                left: 0;
                top: 0;
                display: block;
                position: absolute;
                background-size: auto 100%;
                background-repeat: no-repeat;
                @include transition-all;
                @include transform(scale(.75));
            }
    
            .detail {
                visibility: hidden;
                opacity: 0;
                position: relative;
                left: $col2 - ($gutter * 2);
                @include transition-all;
            }
    
            &.run {
    
                > h1 {
                    top: 15%;
                    left: 10%;
                    padding:25%;
                    // width: 25%;
                    background-image: url('../images/habits/run.png');
                }
            }
    
            &.smoke {
                > h1 {
                    top: 30%;
                    left: 70%;
                    padding: 10%;
                    background-image: url('../images/habits/smoke.png');
                }
            }
    
            &.eat {
                > h1 {
                    top: 30%;
                    left: 30%;
                    padding: 12%;
                    background-image: url('../images/habits/eat.png');
                }
            }
    
            &.read {
                > h1 {
                    top: 20%;
                    left: 40%;
                    padding: 15%;
                    background-image: url('../images/habits/read.png');   
                }
            }
    
            &.meditation {
                > h1 {
                    top: 40%;
                    left: 40%;
                    padding: 18%;
                    background-image: url('../images/habits/meditation.png');                
                }
            }
    
            &.open {
                // left: $gutter;
                height: 100%;
                width: 100%;
    
                > h1 {
                    font-family: $bold;
                    left: 0;
                    color: white;
                    font-size: 2em;
                    @include transform(scale(1));
                }
    
                .detail {
                    left: $col2;
                    visibility: visible;
                    opacity: 1;
    
                    h1 {
                        @include small-caps(.75em);
                        font-family: $demi;
                    }
    
                    .line-graph {
                        position: fixed;
                        bottom: 0;
                        left: 0;
                        right: 0;
                        background: blue;
                        height: 6em;
                    }
    
                    .check-ins {
                    }
    
                    .settings {
                        form {
                            ul {
                                li {
                                    // &:after {
                                    //     content: "â€º";
                                    // }
                                }
                            }
                        }
                    }
                }
            }
    
            &.closed {
                > h1 {
                    @include transform(scale(.25));
                    opacity: .25;
                    top: -2em !important;
                    left: $col2;
                    -webkit-filter: blur(20px);
                }
            }
        }
    }
    
    &.friends {
        
        .profile {
            width: $col2;
            position: relative;
            display: inline-block;
        }
    }
}
@import "compass/reset";
@import "compass/css3";
@import "./lib/_mixins.scss";
@import "./lib/_type.scss";
@import "./lib/_grid.scss";




// @mixin keyframes($name) {
//   @-webkit-keyframes #{$name} {
//     @content; 
//   }
//   @-moz-keyframes #{$name} {
//     @content;
//   }
//   @-ms-keyframes #{$name} {
//     @content;
//   }
//   @keyframes #{$name} {
//     @content;
//   } 
// }

body {
    background-image: url('../images/bg.jpg');
    height: 100%;
    width: 100%;
    text-transform: lowercase;
    
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

header {
    h1 {
        // @include small-caps(1em);
        font-family: $bold;
        padding-bottom: 1em;
    }
}

nav {
    // @include small-caps;
    
    ul {
        list-style: none;
        
        li {
            display: inline-block;
            
            a {
                padding: .25rem 0;
                top: -.25rem;
                margin-right: 2rem;
                // @include small-caps(1em);
                font-family: $bold;
                position: relative;
                
                &.current {
                    border-bottom: 3pt solid $default-color;
                }
            }
        }
    }
    
    .profile-picture {
        height: 4em;
        width:  4em;
        border-radius: 50%;
        position: absolute;
        top: 1em;;
        right: $gutter;
    }
}

section.page {

    &.closed {
        display: none;
    }
    
    &.profile, .profile {
        // margin: 10em auto 0 auto;
        // background-image: url('../images/habits/profile-habit.png');
        // height: 50em;
        // width: 80em;
        // background-size: 80em 50em;
    
        // @include keyframes(bgcolor) {
        //   0% {
        //     @include transform(rotate(0deg));
        //   }
        //   100% {
        //     @include transform(rotate(270deg));
        //   } 
        // }
        // 
        // display: block;
        // 
        // @-webkit-keyframes profile-spin {
        //     0% {
        //         @include rotateZ(0deg);
        //         // background-color: red;
        //     }
        //     
        //     100% {
        //         @include rotateZ(270deg);
        //         // background-color: blue;
        //     }
        // }
    
        // -webkit-animation: profile-spin 10s infinite;
        .habit {

            > h1 {
                cursor: pointer;
                text-transform: lowercase;
                position: relative;
                left: 0;
                top: 0;
                display: block;
                position: absolute;
                background-size: auto 100%;
                background-repeat: no-repeat;
                @include transition-all;
                // @include transform(scale(.75));
                
                font-family: $bold;
                // left: 0;
                color: white;
                font-size: 1.5em;
                text-indent: -2.5%;
            }
    
            .detail {
                visibility: hidden;
                opacity: 0;
                position: relative;
                left: $col2 - ($gutter * 2);
                @include transition-all;
                
                .line-graph {
                    position: fixed;
                    bottom: -8em;
                    left: 0;
                    right: 0;
                    background: blue;
                    height: 6em;
                    @include transition-all;
                }
            }
    
            &.run {
    
                > h1 {
                    top: 9%;
                    left: 6%;
                    padding:30%;
                    // width: 25%;
                    background-image: url('../images/habits/run.png');
                }
            }
    
            &.smoke {
                > h1 {
                    top: 30%;
                    left: 60%;
                    padding: 12%;
                    background-image: url('../images/habits/smoke.png');
                }
                z-index: 999;
            }
    
            &.eat {
                > h1 {
                    top: 12%;
                    left: 42%;
                    padding: 15%;
                    background-image: url('../images/habits/eat.png');
                }
            }
    
            &.read {
                > h1 {
                    top: 66%;
                    left: 36%;
                    padding: 9%;
                    background-image: url('../images/habits/read.png');   
                }
            }
    
            &.meditation {
                > h1 {
                    top: 40%;
                    left: 40%;
                    padding: 18%;
                    background-image: url('../images/habits/meditation.png');                
                }
            }
    
            &.open {
                // left: $gutter;
                height: 100%;
                width: 100%;
    
                > h1 {
                    z-index: 9999;
                }
    
                .detail {
                    left: $col2;
                    visibility: visible;
                    opacity: 1;
    
                    h1 {
                        // @include small-caps(.75em);
                        font-family: $demi;
                    }
    
                    .line-graph {
                        bottom: 0;
                    }
    
                    .check-ins {
                    }
    
                    .settings {
                        form {
                            ul {
                                li {
                                    // &:after {
                                    //     content: "â€º";
                                    // }
                                }
                            }
                        }
                    }
                }
            }
            
            &.other-hover {
                > h1 {
                    opacity: .5;
                    color: transparent;
                }
                
                &.open {
                    > h1 {
                        opacity: 1 !important;
                        color: white;
                    }
                }
            }
    
            &.closed {
                > h1 {
                    // @include transform(scale(.25));
                    opacity: .2 !important;
                    color: transparent;
                    // top: -2em !important;
                    // left: $col2;
                    // -webkit-filter: blur(20px);
                }
            }
            
        }
    }
    
    &.friends {
        
        .profile {
            width: $col2;
            position: relative;
            display: inline-block;
            
            &.open {
                width: $col4;
            }
        }
    }
}